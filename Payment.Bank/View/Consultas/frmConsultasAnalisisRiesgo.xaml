<Controls:MetroWindow TitleCaps="False" x:Class="Payment.Bank.View.Consultas.frmConsultasAnalisisRiesgo" xmlns:local="clr-namespace:Payment.Bank.Helpers"  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro" Title="titleQueriesCuotas" ShowTitleBar="True" TitlebarHeight="60" ShowIconOnTitleBar="True" TitleAlignment="Left" Height="600" Width="800" WindowStartupLocation="CenterScreen" ResizeMode="NoResize" BorderThickness="1" ShowCloseButton="False" WindowTitleBrush="{StaticResource BackgroundHeader}" TitleForeground="White" GlowBrush="{DynamicResource BackgroundHeader}" ShowInTaskbar="False">
    <Grid x:Name="LayoutRoot" Background="Transparent">
        <Grid.Resources>
            <local:ImageSourceConverter x:Key="ImageSourceConverter" />

            <local:CuotasColorConverter x:Key="CuotasColorConverter" />
        </Grid.Resources>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="20" />
            <ColumnDefinition Width="98*" />
            <ColumnDefinition Width="20" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="70*" />
            <RowDefinition Height="70" />
        </Grid.RowDefinitions>
        <Grid Name="gridMenu" DataContext="{Binding}" Grid.Row="0" Width="Auto" Background="Transparent" Grid.Column="1" Margin="0,0,0,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Grid Name="gridDatosPersonales">

                <TextBlock  Margin="230,25,0,0" Name="lblDocumento" TextWrapping="Wrap" Text="{Binding Path=Solicitudes.Clientes.Personas.Documento}" VerticalAlignment="Top" HorizontalAlignment="Left" Width="201" Height="25"/>
                <TextBlock  Margin="230,49,0,0" Name="lblNombres" TextWrapping="Wrap" Text="{Binding Path=Solicitudes.Clientes.Personas.Nombres}" VerticalAlignment="Top" HorizontalAlignment="Left" Width="201" Height="25"/>
                <TextBlock  Margin="230,75,0,0" Name="lblApellidos" TextWrapping="Wrap" Text="{Binding Path=Solicitudes.Clientes.Personas.Apellidos}" VerticalAlignment="Top" HorizontalAlignment="Left" Width="201" Height="25"/>
                <TextBlock  Margin="230,99,0,0" Name="lblCiudad" TextWrapping="Wrap" Text="{Binding Path=Solicitudes.Clientes.Personas.Ciudades.Ciudad}" VerticalAlignment="Top" HorizontalAlignment="Left" Width="201" Height="25"/>
                <TextBlock  Margin="0,25,16,0" Name="lblContrato" FontWeight="Bold" TextWrapping="Wrap" Text="{Binding Path=ContratoID}" VerticalAlignment="Top" HorizontalAlignment="Right" TextAlignment="Right" Width="108" Height="25"/>
                <TextBlock  Margin="0,52,16,0" Name="lblFecha" TextWrapping="Wrap" Text="{Binding Path=Fecha, StringFormat=dd/MM/yyyy}" VerticalAlignment="Top" HorizontalAlignment="Right" TextAlignment="Right" Width="108" Height="25"/>
                <TextBlock  Margin="0,76,16,0" Name="lblMonto" TextWrapping="Wrap" Text="{Binding Path=Solicitudes.Monto, StringFormat=N2}" VerticalAlignment="Top" HorizontalAlignment="Right" TextAlignment="Right" Width="108" Height="25"/>
                <TextBlock  Margin="0,102,16,0" Name="lblInteres" TextWrapping="Wrap" Text="{Binding Path=Interes}" VerticalAlignment="Top" HorizontalAlignment="Right" TextAlignment="Right" Width="108" Height="25"/>
                <TextBlock  Margin="0,127,16,0" Name="lblMoras" TextWrapping="Wrap" Text="{Binding Path=Mora}" VerticalAlignment="Top" HorizontalAlignment="Right" TextAlignment="Right" Width="108" Height="25"/>

                <Border Background="Transparent" BorderBrush="black" BorderThickness="1" CornerRadius="5,5,5,5" HorizontalAlignment="Left" Margin="20,11,0,0" x:Name="BorderPhotoSrc" Width="110" Height=" 125" VerticalAlignment="Top">
                    <Grid x:Name="gridPhotoSrc">
                        <Image DataContext="{Binding}" Margin="2,2,2,2" x:Name="photoUsuario" Stretch="Fill" Source="{Binding Path=Solicitudes.Clientes.Personas.Fotografias.Foto, Mode=TwoWay, Converter={StaticResource ImageSourceConverter}}">
                            <Image.Effect>
                                <DropShadowEffect BlurRadius="10" Color="#FF5D7183" Opacity="0.5" ShadowDepth="0" />
                            </Image.Effect>
                        </Image>
                    </Grid>
                </Border>

            </Grid>


            <TextBlock Text="lblLastName" HorizontalAlignment="Left" Margin="135,74,0,0" TextAlignment="Right" TextWrapping="Wrap" VerticalAlignment="Top" Width="80"/>
            <TextBlock Text="lblNames" HorizontalAlignment="Left" Margin="135,49,0,0" TextAlignment="Right" TextWrapping="Wrap"  VerticalAlignment="Top" Width="80"/>
            <TextBlock Text="lblDocument" HorizontalAlignment="Left" Margin="135,24,0,0" TextAlignment="Right" TextWrapping="Wrap" VerticalAlignment="Top" Width="80"/>
            <TextBlock Text="lblCiudad" HorizontalAlignment="Left" TextAlignment="Right" Margin="135,99,0,0" TextWrapping="Wrap"  VerticalAlignment="Top" Width="80"/>
            <TextBlock HorizontalAlignment="Right" Margin="0,50,112,0" TextWrapping="Wrap" TextAlignment="Right" Text="lblDateOfContract" VerticalAlignment="Top" Width="158"/>
            <TextBlock HorizontalAlignment="Right" Margin="0,75,112,0" TextWrapping="Wrap" TextAlignment="Right" Text="lblMonto" VerticalAlignment="Top" Width="112"/>
            <TextBlock HorizontalAlignment="Right" Margin="0,100,112,0" TextWrapping="Wrap" TextAlignment="Right" Text="lblInterestRate" VerticalAlignment="Top" Width="153"/>
            <TextBlock Margin="0,125,112,0" TextWrapping="Wrap" Text="lblLateFees" TextAlignment="Right" VerticalAlignment="Top" HorizontalAlignment="Right" Width="201"/>
            <TextBlock HorizontalAlignment="Right" Margin="0,24,112,0" TextWrapping="Wrap" TextAlignment="Right" Text="lblContract" VerticalAlignment="Top" Width="153"/>

            <DataGrid AutoGenerateColumns="False" Margin="0,10,0,10" Name="dataGrid1" Grid.Row="1" ItemsSource="{Binding}" CanUserAddRows="False" CanUserDeleteRows="False" CanUserResizeColumns="False" CanUserResizeRows="False" HeadersVisibility="Column" HorizontalScrollBarVisibility="Hidden">
                <DataGrid.Columns>
                    <DataGridTemplateColumn Header="colNumber" Width="*" IsReadOnly="True">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Grid Background="White" Width="750">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="1"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Rectangle Fill="Red" Grid.Column="0" Width="2"/>



                                    <Grid  Background="#f5f5f5" Grid.Column="1">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"/>
                                            <ColumnDefinition Width="170"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="70"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="15"/>
                                            <RowDefinition Height="auto"/>
                                            <RowDefinition Height="15"/>
                                            <RowDefinition Height="auto"/>
                                        </Grid.RowDefinitions>

                                        <TextBlock Grid.Column="0" Grid.Row="0"  Margin="0,0,0,0" VerticalAlignment="Center" FontSize="9" Foreground="Black" Text="NUMERO"/>
                                        <TextBlock Grid.Column="0" Grid.Row="1"  Margin="0,-5,0,0" VerticalAlignment="Center" FontSize="11" Foreground="Black" Text="{Binding CuotaID, Mode=TwoWay}"/>

                                        <TextBlock Grid.Column="0" Grid.Row="2"  Margin="0,0,0,0" VerticalAlignment="Center" FontSize="9" Foreground="Black" Text="BALANCE"/>
                                        <TextBlock Grid.Column="0" Grid.Row="3" Grid.ColumnSpan="2"  Margin="5,-5,0,0" VerticalAlignment="Center" FontSize="13" Foreground="Black" Text="{Binding Balance, Mode=TwoWay}"/>

                                        <TextBlock Grid.Column="1" Grid.Row="0"  Margin="0,0,0,0" VerticalAlignment="Center" FontSize="9" Foreground="Black" Text="FECHA"/>
                                        <TextBlock Grid.Column="1" Grid.Row="1" Grid.ColumnSpan="2" Margin="0,-5,0,0" VerticalAlignment="Center" Foreground="Black" FontSize="11" Text="{Binding Fecha, Mode=TwoWay}"/>

                                        <TextBlock Grid.Column="2" Grid.Row="0"  Margin="0,0,0,0" VerticalAlignment="Center" FontSize="9" Foreground="Black" Text="VENCE"/>
                                        <TextBlock Grid.Column="2" Grid.Row="1" Margin="0,-5,0,0" VerticalAlignment="Center" FontSize="11" Foreground="Black" Text="{Binding Vence, Mode=TwoWay}"/>


                                        <TextBlock Grid.Column="2" Grid.Row="2" Margin="0,0,0,0" VerticalAlignment="Center" FontSize="9" Foreground="Black" Text="ATRASO"/>
                                        <TextBlock Grid.Column="2" Grid.Row="3" Margin="0,-5,0,0" VerticalAlignment="Center" FontSize="11" Foreground="Black" Text="{Binding Atraso, Mode=TwoWay}"/>

                                        <TextBlock Grid.Column="3" Grid.Row="0" Margin="0,0,5,0" VerticalAlignment="Center" FontSize="9" Foreground="Black" Text="MONTO"/>
                                        <TextBlock Grid.Column="3" Grid.Row="1" Margin="0,-5,5,0" VerticalAlignment="Center" FontSize="11" Foreground="Black" Text="{Binding Monto, Mode=TwoWay}"/>

                                        <!--  <StackLayout Padding="0" Margin="0,0,5,0" Grid.Column="3" Grid.Row="2" Grid.RowSpan="2">
                                                 <Frame CornerRadius="17" HasShadow="False" Background="{StaticResource BackgroundHeader}" Height="34" WidthRequest="34" HorizontalOptions="Center" Padding="0" IsClippedToBounds="True">
                                                        <Label Text="{Binding Path=Status, Mode=TwoWay}" TextColor="{Binding Path=Atraso, Mode=TwoWay, Converter={StaticResource AtrasosConverter}}" VerticalTextAlignment="Center" HorizontalTextAlignment="Center" HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand" FontSize="18" FontAttributes="Bold"/>
                                                    </Frame>
                                                </StackLayout>-->

                                    </Grid>

                                </Grid>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
 


                </DataGrid.Columns>
            </DataGrid>
        </Grid>

        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,10,0" Grid.Column="1" VerticalAlignment="Top" Height="55" Grid.Row="2">
            <TextBox Name="txtMonto" Visibility="Collapsed" HorizontalAlignment="Right" Height="26" Margin="0,16,10,0" Grid.Row="1" Text="{Binding Monto, StringFormat=N2, Mode=TwoWay, ValidatesOnDataErrors=True, ValidatesOnExceptions=True}" TextWrapping="Wrap" TabIndex="0" TextAlignment="Right" Width="90"  Grid.Column="1" VerticalAlignment="Top"/>
            <Button Height="55"  Visibility="Collapsed" Margin="0" Name="btnAceptar" Width="55" IsDefault="True">
                <Image Width="40" Height="40" Source="/Images/check.png" />
            </Button>
            <Button Height="50"  Visibility="Collapsed" Margin="0" Name="btnNotaDebito" Width="50" IsDefault="True">
                <Image Width="35" Height="35" Source="/Images/NotaDebito.png" />
            </Button>
            <Button Height="50"  Visibility="Collapsed" Margin="0" Name="btnNotaCredito" Width="50" IsDefault="True">
                <Image Width="35" Height="35" Source="/Images/NotaCredito.png" />
            </Button>
            <Button Height="55" HorizontalAlignment="Left" Margin="0" Name="btnWhatsApp" VerticalAlignment="Top" Width="55" Visibility="Visible">
                <Image Width="55" Height="55" Source="/Images/appbar_whatsapp.png"/>
            </Button>
            <Button Height="55"   Margin="0" Name="btnPrint" Width="55" IsCancel="False">
                <Image Width="40" Height="40" Source="/Images/Cuotas.png" />
            </Button>
            <Button Height="55"   Margin="0" Name="btnSalir" Width="55" IsCancel="False">
                <Image Width="40" Height="40" Source="/Images/back.png" />
            </Button>
        </StackPanel>
        <TextBlock Foreground="Red" FontWeight="Bold" VerticalAlignment="Center" Name="lblAtraso" Text="lblAtraso" Grid.Row="1" HorizontalAlignment="Left" Width="122" Margin="10,19,0,19" Height="32" Grid.Column="1"/>

        <TextBlock Foreground="Red" FontWeight="Bold" VerticalAlignment="Center" x:Name="lblMinimumPayment" Text="lblMinimumPayment" Grid.Row="1" Margin="0,19,461,19" Height="32" Grid.Column="1" HorizontalAlignment="Right" Width="148"/>

    </Grid>
</Controls:MetroWindow>
